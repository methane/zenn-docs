---
title: "Deno から zenn-cli を使う"
emoji: "📝"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Deno","Zenn"]
published: true
---

Denoがnpmに対応したので、ZennのコマンドラインもDenoで実行できます。（もちろん公式にサポートされた方法ではありません。）

HomebrewやDeno公式のインストール手順に従ってDenoがインストールできていれば、次のような手順でインストールできます。

```bash
$ deno install -A npm:zenn-cli@latest
✅ Successfully installed zenn-cli
/Users/inada-n/.deno/bin/zenn-cli
ℹ️  Add /Users/inada-n/.deno/bin to PATH
    export PATH="/Users/inada-n/.deno/bin:$PATH"

$ cat ~/.deno/bin/zenn-cli
#!/bin/sh
# generated by deno install
exec deno run --allow-all --no-config --lock /Users/inada-n/.deno/bin/.zenn-cli.lock.json 'npm:zenn-cli@latest' "$@"

$ export PATH="/Users/inada-n/.deno/bin:$PATH"
$ zenn-cli new:article --slug 2023-deno-zenn-cli
created: articles/2023-deno-zenn-cli.md
```

`export PATH="/Users/inada-n/.deno/bin:$PATH"` の部分は `.bashrc` などに書いておくと、次からは `zenn-cli` コマンドがすぐに使えるようになります。

`deno install` につけている `-A` オプションは、 "Allow all permissions" で、Denoが設定しているすべてのパーミッションを許可してしまっています。必要なパーミッションだけを有効にしたい場合は、一旦 `-A` なしでインストールして利用し、パーミッションを聞かれるたびに `--allow-????` を追加して上書きインストールするといいと思います。
